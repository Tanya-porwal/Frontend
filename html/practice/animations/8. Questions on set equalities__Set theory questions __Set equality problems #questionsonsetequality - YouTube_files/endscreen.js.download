(function(g){var window=this;'use strict';var Nqv=function(Z){Z.player.jM("endscreen");var I=Z.player.getVideoData();I=new g.S8(Math.max((I.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var d=new g.S8(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});Z.player.eM([I,d])},P5=function(Z){return g.Bo(Z.player)&&Z.nD()&&!Z.N},QR=function(Z){var I=Z.C(),d=I.N;
g.k.call(this,{K:"a",T:"ytp-autonav-suggestion-card",J:{href:"{{url}}",target:d?I.In:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},G:[{K:"div",zm:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],J:{style:"{{background}}"},G:[{K:"div",J:{"aria-label":"{{timestamp}}"},zm:["ytp-autonav-timestamp"],Z1:"{{duration}}"},{K:"div",zm:["ytp-autonav-live-stamp"],Z1:"Live"},{K:"div",
zm:["ytp-autonav-upcoming-stamp"],Z1:"Upcoming"},{K:"div",T:"ytp-autonav-list-overlay",G:[{K:"div",T:"ytp-autonav-mix-text",Z1:"Mix"},{K:"div",T:"ytp-autonav-mix-icon"}]}]},{K:"div",zm:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],Z1:"{{title}}"},{K:"div",zm:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],Z1:"{{author}}"},{K:"div",zm:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],Z1:"{{views_and_publish_time}}"}]});this.S=Z;this.suggestion=
null;this.L=d;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},Fmg=function(Z){return Z.isBackground()&&Z.RB()},OP=function(Z){var I=Z.NI();
I!==Z.B&&(Z.B=I,sw3(Z.player),Z.B?(Z.D!==Z.L&&Z.D.hide(),Z.table.hide()):(Z.D!==Z.L&&Z.D.show(),Z.table.show()))},ntW=function(Z,I){if(I)return I;
if(Z.api.isFullscreen()){var d;Z=(d=Z.api.getVideoData())==null?void 0:d.XR;return Z===-1||Z===void 0?8E3:Z}return Z.api.E4()>=0?Z.api.E4():g.Q4(Z.api.C().experiments,"autoplay_time")||1E4},as=function(Z){var I=Z.S.aF(!0,Z.S.isFullscreen());
g.zL(Z.container.element,"ytp-autonav-endscreen-small-mode",Z.vE(I));g.zL(Z.container.element,"ytp-autonav-endscreen-is-premium",!!Z.suggestion&&!!Z.suggestion.Rg7);g.zL(Z.S.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!Z.S.NI());g.zL(Z.S.getRootNode(),"countdown-running",Z.FI());g.zL(Z.container.element,"ytp-player-content",Z.S.NI());g.K2(Z.overlay.element,{width:I.width+"px"});if(!Z.FI()){Z.S.NI()?huV(Z,Math.round(mi$(Z)/1E3)):huV(Z);I=!!Z.suggestion&&!!Z.suggestion.m1;var d=Z.S.NI()||
!I;g.zL(Z.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!d&&I);g.zL(Z.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",d&&!I);Z.D.o0(Z.S.NI());g.zL(Z.element,"ytp-enable-w2w-color-transitions",qtL(Z))}},mi$=function(Z){if(Z.S.isFullscreen()){var I;
Z=(I=Z.S.getVideoData())==null?void 0:I.XR;return Z===-1||Z===void 0?8E3:Z}return Z.S.E4()>=0?Z.S.E4():g.Q4(Z.S.C().experiments,"autoplay_time")||1E4},ANv=function(Z,I){I=I.getWatchNextResponse();
var d,Y;I=(d=StM(I))==null?void 0:(Y=d.nextButton)==null?void 0:Y.buttonRenderer;Z.B=I==null?void 0:I.navigationEndpoint;d=I==null?void 0:I.trackingParams;Z.playButton&&d&&Z.S.setTrackingParams(Z.playButton.element,d)},sw3=function(Z){Z.publish("autonavvisibility")},W5=function(Z){g.k.call(this,{K:"div",
zm:["ytp-upnext","ytp-player-content"],J:{"aria-label":"{{aria_label}}"},G:[{K:"div",T:"ytp-cued-thumbnail-overlay-image",J:{style:"{{background}}"}},{K:"span",T:"ytp-upnext-top",G:[{K:"span",T:"ytp-upnext-header",Z1:"Up Next"},{K:"span",T:"ytp-upnext-title",Z1:"{{title}}"},{K:"span",T:"ytp-upnext-author",Z1:"{{author}}"}]},{K:"a",T:"ytp-upnext-autoplay-icon",J:{role:"button",href:"{{url}}","aria-label":"Play next video"},G:[{K:"svg",J:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
G:[{K:"circle",T:"ytp-svg-autoplay-circle",J:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{K:"circle",T:"ytp-svg-autoplay-ring",J:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{K:"path",T:"ytp-svg-fill",J:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{K:"span",T:"ytp-upnext-bottom",G:[{K:"span",T:"ytp-upnext-cancel"},{K:"span",T:"ytp-upnext-paused",
Z1:"Autoplay is paused"}]}]});this.api=Z;this.cancelButton=null;this.B=this.KS("ytp-svg-autoplay-ring");this.Z=this.notification=this.L=this.suggestion=null;this.N=new g.uX(this.o7,5E3,this);this.D=0;var I=this.KS("ytp-upnext-cancel");this.cancelButton=new g.k({K:"button",zm:["ytp-upnext-cancel-button","ytp-button"],J:{tabindex:"0","aria-label":"Cancel autoplay"},Z1:"Cancel"});g.z(this,this.cancelButton);this.cancelButton.listen("click",this.Ox,this);this.cancelButton.i5(I);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.z(this,this.N);this.api.createClientVe(this.element,this,18788);I=this.KS("ytp-upnext-autoplay-icon");this.W(I,"click",this.TI);this.api.createClientVe(I,this,115130);this.l2();this.W(Z,"autonavvisibility",this.l2);this.W(Z,"mdxnowautoplaying",this.gun);this.W(Z,"mdxautoplaycanceled",this.MJs);g.zL(this.element,"ytp-upnext-mobile",this.api.C().D)},Dip=function(Z){ey.call(this,Z,"subscribecard-endscreen");
this.L=new g.k({K:"div",T:"ytp-subscribe-card",G:[{K:"img",T:"ytp-author-image",J:{src:"{{profilePicture}}"}},{K:"div",T:"ytp-subscribe-card-right",G:[{K:"div",T:"ytp-author-name",Z1:"{{author}}"},{K:"div",T:"html5-subscribe-button-container"}]}]});g.z(this,this.L);this.L.i5(this.element);var I=Z.getVideoData();this.subscribeButton=new g.pr("Subscribe",null,"Unsubscribe",null,!0,!1,I.vl,I.subscribed,"trailer-endscreen",null,Z,!1);g.z(this,this.subscribeButton);this.subscribeButton.i5(this.L.KS("html5-subscribe-button-container"));
this.W(Z,"videodatachange",this.qs);this.qs();this.hide()},StM=function(Z){var I,d,Y;
return Z==null?void 0:(I=Z.playerOverlays)==null?void 0:(d=I.playerOverlayRenderer)==null?void 0:(Y=d.autoplay)==null?void 0:Y.playerOverlayAutoplayRenderer},JNp=function(Z,I){Z.Rn("onAutonavCoundownStarted",I)},Rui=function(Z){var I=Z.player.getVideoData();
if(!I||Z.L===I.N_&&Z.D===I.o4)return!1;Z.L=I.N_;Z.D=I.o4;return!0},LmM=function(Z){ey.call(this,Z,"videowall-endscreen");
var I=this;this.S=Z;this.stills=[];this.Z=this.videoData=null;this.N=this.j=!1;this.V=null;g.xw(this.element,"modern-videowall-endscreen");this.D=new g.De(this);g.z(this,this.D);this.B=new g.uX(function(){g.xw(I.element,"ytp-show-tiles")},0);
g.z(this,this.B);this.table=new g.Y$({K:"div",T:"ytp-modern-endscreen-content"});g.z(this,this.table);this.table.i5(this.element);Z.getVideoData().o4?this.L=new B5(Z,!0):this.L=new W5(Z);g.z(this,this.L);g.iS(this.player,this.L.element,4);Z.createClientVe(this.element,this,158789);this.hide()},B5=function(Z,I){I=I===void 0?!1:I;
g.k.call(this,{K:"div",T:"ytp-autonav-endscreen-countdown-overlay"});var d=this;this.j=I;this.cancelCommand=this.B=void 0;this.Z=0;this.container=new g.k({K:"div",T:"ytp-autonav-endscreen-countdown-container"});g.z(this,this.container);this.container.i5(this.element);I=Z.C();var Y=I.N;this.S=Z;this.suggestion=null;this.onVideoDataChange("newdata",this.S.getVideoData());this.W(Z,"videodatachange",this.onVideoDataChange);this.L=new g.k({K:"div",T:"ytp-autonav-endscreen-upnext-container",J:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},G:[{K:"div",T:"ytp-autonav-endscreen-upnext-header"},{K:"div",T:"ytp-autonav-endscreen-upnext-alternative-header",Z1:"{{autoplayAlternativeHeader}}"},{K:"a",T:"ytp-autonav-endscreen-link-container",J:{href:"{{url}}",target:Y?I.In:""},G:[{K:"div",T:"ytp-autonav-endscreen-upnext-thumbnail",J:{style:"{{background}}"},G:[{K:"div",J:{"aria-label":"{{timestamp}}"},zm:["ytp-autonav-timestamp"],
Z1:"{{duration}}"},{K:"div",zm:["ytp-autonav-live-stamp"],Z1:"Live"},{K:"div",zm:["ytp-autonav-upcoming-stamp"],Z1:"Upcoming"}]},{K:"div",T:"ytp-autonav-endscreen-video-info",G:[{K:"div",T:"ytp-autonav-endscreen-premium-badge"},{K:"div",T:"ytp-autonav-endscreen-upnext-title",Z1:"{{title}}"},{K:"div",T:"ytp-autonav-endscreen-upnext-author",Z1:"{{author}}"},{K:"div",T:"ytp-autonav-view-and-date",Z1:"{{views_and_publish_time}}"},{K:"div",T:"ytp-autonav-author-and-view",Z1:"{{author_and_views}}"}]}]}]});
g.z(this,this.L);this.L.i5(this.container.element);Y||this.W(this.L.KS("ytp-autonav-endscreen-link-container"),"click",this.Hn);this.S.createClientVe(this.container.element,this,115127);this.S.createClientVe(this.L.KS("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.k({K:"div",T:"ytp-autonav-overlay"});g.z(this,this.overlay);this.overlay.i5(this.container.element);this.D=new g.k({K:"div",T:"ytp-autonav-endscreen-button-container"});g.z(this,this.D);this.D.i5(this.container.element);
this.cancelButton=new g.k({K:"button",zm:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",I.Y("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],J:{"aria-label":"Cancel autoplay"},Z1:"Cancel"});g.z(this,this.cancelButton);this.cancelButton.i5(this.D.element);this.cancelButton.listen("click",this.j0,this);this.S.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.k({K:"a",zm:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
I.Y("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],J:{href:"{{url}}",role:"button","aria-label":"Play next video"},Z1:"Play Now"});g.z(this,this.playButton);this.playButton.i5(this.D.element);this.playButton.listen("click",this.Hn,this);this.S.createServerVe(this.playButton.element,this.playButton,!0);(I=this.S.getVideoData())&&ANv(this,I);this.N=new g.uX(function(){UiV(d)},500);
g.z(this,this.N);this.rk();this.W(Z,"autonavvisibility",this.rk);this.S.Y("web_autonav_color_transition")&&(this.W(Z,"autonavchange",this.Yj),this.W(Z,"onAutonavCoundownStarted",this.mCs))},yNt=function(Z,I){I=ntW(Z,I);
var d=Math,Y=d.min;var T=(0,g.o8)()-Z.D;d=Y.call(d,T,I);I=I===0?1:Math.min(d/I,1);Z.B.setAttribute("stroke-dashoffset",""+-211*(I+1));I>=1&&Z.FI()&&Z.api.getPresentingPlayerType()!==3?Z.select(!0):Z.FI()&&Z.L.start()},lbg=function(Z){g.NI.call(this,Z);
var I=this;this.endScreen=null;this.L=this.D=this.Z=!1;this.listeners=new g.De(this);g.z(this,this.listeners);var d=Z.C();Z.isEmbedsShortsMode()?this.endScreen=new ws(Z):vtv(Z)?(this.Z=!0,Rui(this),this.L?this.endScreen=new VR(Z):d.Y("delhi_modern_endscreen")?this.endScreen=new LmM(Z):this.endScreen=new Ns(Z)):d.Wb?this.endScreen=new Dip(Z):this.endScreen=new ey(Z);g.z(this,this.endScreen);g.iS(Z,this.endScreen.element,4);Nqv(this);this.listeners.W(Z,"videodatachange",this.onVideoDataChange,this);
this.listeners.W(Z,g.E2("endscreen"),function(Y){I.onCueRangeEnter(Y)});
this.listeners.W(Z,g.bx("endscreen"),function(Y){I.onCueRangeExit(Y)})},qtL=function(Z){var I;
return!((I=Z.S.getVideoData())==null||!I.watchToWatchTransitionRenderer)},ws=function(Z){ey.call(this,Z,"watch-again-on-youtube-endscreen");
this.watchButton=new utW(Z,1);g.z(this,this.watchButton);this.watchButton.i5(this.element);g.jjL(Z)&&(this.L=new g.Bd(Z),g.z(this,this.L),this.D=new g.k({K:"div",zm:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],J:{tabIndex:"-1"},G:[this.L]}),g.z(this,this.D),this.L.i5(this.D.element),this.D.i5(this.element));Z.createClientVe(this.element,this,156914);this.hide()},UiV=function(Z){var I=mi$(Z),d=Math,Y=d.min;
var T=Z.Z?Date.now()-Z.Z:0;d=Y.call(d,T,I);huV(Z,Math.ceil((I-d)/1E3));I-d<=500&&Z.FI()?Z.select(!0):Z.FI()&&Z.N.start()},ey=function(Z,I){g.k.call(this,{K:"div",
zm:["html5-endscreen","ytp-player-content",I||"base-endscreen"]});this.created=!1;this.player=Z},huV=function(Z,I){I=I===void 0?-1:I;
Z=Z.L.KS("ytp-autonav-endscreen-upnext-header");g.Nd(Z);if(I>=0){I=String(I);var d="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],Y="Up next in $SECONDS".indexOf(d);if(Y>=0){Z.appendChild(g.jb("Up next in $SECONDS".slice(0,Y)));var T=g.vX("span");g.PI(T,"ytp-autonav-endscreen-upnext-header-countdown-number");g.UC(T,I);Z.appendChild(T);Z.appendChild(g.jb("Up next in $SECONDS".slice(Y+d.length)));return}}g.UC(Z,"Up next")},FQ=function(Z){var I=Z.NI();
I!==Z.j&&(Z.j=I,sw3(Z.player))},utW=function(Z,I){g.k.call(this,{K:"button",
zm:["ytp-watch-on-youtube-button","ytp-button"],Z1:"{{content}}"});this.S=Z;this.buttonType=this.buttonType=I;this.Rk();this.buttonType===2&&g.xw(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.Rk);this.o0(!0)},sP=function(Z){return g.Bo(Z.player)&&Z.nD()&&!Z.Z},VR=function(Z){ey.call(this,Z,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.k({K:"div",T:"ytp-suggestion-panel",G:[{K:"div",zm:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],Z1:"More videos"}]});this.V=new g.k({K:"div",T:"ytp-suggestions-container"});this.videos=[];this.Z=null;this.B=this.j=!1;this.D=new B5(this.player);g.z(this,this.D);this.D.i5(this.element);Z.getVideoData().o4?this.L=this.D:(this.L=new W5(Z),g.iS(this.player,this.L.element,4),g.z(this,this.L));this.overlay=new g.k({K:"div",
T:"ytp-autonav-overlay-cancelled-state"});g.z(this,this.overlay);this.overlay.i5(this.element);this.N=new g.De(this);g.z(this,this.N);g.z(this,this.table);this.table.i5(this.element);this.table.show();g.z(this,this.V);this.V.i5(this.table.element);this.hide()},Ns=function(Z){ey.call(this,Z,"videowall-endscreen");
var I=this;this.S=Z;this.Z=0;this.stills=[];this.N=this.videoData=null;this.B=this.V=!1;this.X=null;this.D=new g.De(this);g.z(this,this.D);this.j=new g.uX(function(){g.xw(I.element,"ytp-show-tiles")},0);
g.z(this,this.j);var d=new g.k({K:"button",zm:["ytp-button","ytp-endscreen-previous"],J:{"aria-label":"Previous"},G:[g.eY()]});g.z(this,d);d.i5(this.element);d.listen("click",this.oe,this);this.table=new g.Y$({K:"div",T:"ytp-endscreen-content"});g.z(this,this.table);this.table.i5(this.element);d=new g.k({K:"button",zm:["ytp-button","ytp-endscreen-next"],J:{"aria-label":"Next"},G:[g.i1()]});g.z(this,d);d.i5(this.element);d.listen("click",this.Fu,this);Z.getVideoData().o4?this.L=new B5(Z,!0):this.L=
new W5(Z);g.z(this,this.L);g.iS(this.player,this.L.element,4);Z.createClientVe(this.element,this,158789);this.hide()},nT=function(Z){var I=Z.NI();
I!==Z.V&&(Z.V=I,sw3(Z.player))},hP=function(Z){var I=Z.C(),d=g.h_||g.Cb?{style:"will-change: opacity"}:void 0,Y=I.N,T=["ytp-videowall-still"];
I.D&&T.push("ytp-videowall-show-text");g.k.call(this,{K:"a",zm:T,J:{href:"{{url}}",target:Y?I.In:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},G:[{K:"div",T:"ytp-videowall-still-image",J:{style:"{{background}}"}},{K:"span",T:"ytp-videowall-still-info",J:{"aria-hidden":"true"},G:[{K:"span",T:"ytp-videowall-still-info-bg",G:[{K:"span",T:"ytp-videowall-still-info-content",J:d,G:[{K:"span",T:"ytp-videowall-still-info-title",Z1:"{{title}}"},
{K:"span",T:"ytp-videowall-still-info-author",Z1:"{{author_and_views}}"},{K:"span",T:"ytp-videowall-still-info-live",Z1:"Live"},{K:"span",T:"ytp-videowall-still-info-duration",Z1:"{{duration}}"}]}]}]},{K:"span",zm:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],J:{"aria-hidden":"true"},G:[{K:"span",T:"ytp-videowall-still-listlabel-icon"},"Playlist",{K:"span",T:"ytp-videowall-still-listlabel-length",G:[" (",{K:"span",Z1:"{{playlist_length}}"},")"]}]},{K:"span",zm:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],J:{"aria-hidden":"true"},G:[{K:"span",T:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{K:"span",T:"ytp-videowall-still-listlabel-length",Z1:" (50+)"}]}]});this.suggestion=null;this.D=Y;this.api=Z;this.L=new g.De(this);g.z(this,this.L);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.L.W(Z,"videodatachange",this.onVideoDataChange);Z.createServerVe(this.element,this);this.onVideoDataChange()},vtv=function(Z){Z=Z.C();
return Z.Tv&&!Z.Wb&&!Z.disableOrganicUi};
g.GR.prototype.E4=g.rk(6,function(){return this.app.E4()});
g.I_.prototype.E4=g.rk(5,function(){return this.getVideoData().yd});
g.ls.prototype.J3=g.rk(4,function(Z){this.XW().J3(Z)});
g.Jo.prototype.J3=g.rk(3,function(Z){this.P_!==Z&&(this.P_=Z,this.MV())});
g.U(QR,g.k);QR.prototype.select=function(){this.S.LW(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.CC||void 0)&&this.S.logClick(this.element)};
QR.prototype.onClick=function(Z){g.D_(Z,this.S,this.L,this.suggestion.sessionData||void 0)&&this.select()};
QR.prototype.onKeyPress=function(Z){switch(Z.keyCode){case 13:case 32:Z.defaultPrevented||(this.select(),Z.preventDefault())}};g.U(B5,g.k);g.n=B5.prototype;g.n.d8=function(Z){this.suggestion!==Z&&(this.suggestion=Z,g.b2(this.L,Z),this.playButton.updateValue("url",this.suggestion.EM()),as(this))};
g.n.FI=function(){return this.Z>0};
g.n.kh=function(){this.FI()||(this.Z=Date.now(),UiV(this),JNp(this.S,mi$(this)),g.zL(this.S.getRootNode(),"countdown-running",this.FI()))};
g.n.EL=function(){this.nf();UiV(this);var Z=this.L.KS("ytp-autonav-endscreen-upnext-header");Z&&g.UC(Z,"Up next")};
g.n.nf=function(){this.FI()&&(this.N.stop(),this.Z=0)};
g.n.select=function(Z){this.S.nextVideo(!1,Z===void 0?!1:Z);this.nf()};
g.n.Hn=function(Z){g.D_(Z,this.S)&&(Z.currentTarget===this.playButton.element?this.S.logClick(this.playButton.element):Z.currentTarget===this.L.KS("ytp-autonav-endscreen-link-container")&&(Z=this.L.KS("ytp-autonav-endscreen-link-container"),this.S.logVisibility(Z,!0),this.S.logClick(Z)),this.B?(this.S.Rn("innertubeCommand",this.B),this.nf()):this.select())};
g.n.j0=function(){this.S.logClick(this.cancelButton.element);g.Ja(this.S,!0);this.cancelCommand&&this.S.Rn("innertubeCommand",this.cancelCommand)};
g.n.onVideoDataChange=function(Z,I){ANv(this,I);Z=I.getWatchNextResponse();var d,Y;Z=(d=StM(Z))==null?void 0:(Y=d.cancelButton)==null?void 0:Y.buttonRenderer;this.cancelCommand=Z==null?void 0:Z.command};
g.n.mCs=function(Z){if(qtL(this)){var I=this.S.getVideoData().watchToWatchTransitionRenderer,d=I==null?void 0:I.fromColorPaletteDark;I=I==null?void 0:I.toColorPaletteDark;if(d&&I){var Y=this.element;Y.style.setProperty("--w2w-start-background-color",g.ba(d.surgeColor));Y.style.setProperty("--w2w-start-primary-text-color",g.ba(d.primaryTitleColor));Y.style.setProperty("--w2w-start-secondary-text-color",g.ba(d.secondaryTitleColor));Y.style.setProperty("--w2w-end-background-color",g.ba(I.surgeColor));
Y.style.setProperty("--w2w-end-primary-text-color",g.ba(I.primaryTitleColor));Y.style.setProperty("--w2w-end-secondary-text-color",g.ba(I.secondaryTitleColor));Y.style.setProperty("--w2w-animation-duration",Z+"ms")}g.zL(this.element,"ytp-w2w-animate",!0)}};
g.n.Yj=function(Z){this.S.Y("web_autonav_color_transition")&&Z!==2&&g.zL(this.element,"ytp-w2w-animate",!1)};
g.n.rk=function(){var Z=this.S.NI();this.j&&this.LM!==Z&&this.o0(Z);as(this);this.S.logVisibility(this.container.element,Z);this.S.logVisibility(this.cancelButton.element,Z);this.S.logVisibility(this.L.KS("ytp-autonav-endscreen-link-container"),Z);this.S.logVisibility(this.playButton.element,Z)};
g.n.vE=function(Z){return Z.width<400||Z.height<459};g.U(ey,g.k);g.n=ey.prototype;g.n.create=function(){this.created=!0};
g.n.destroy=function(){this.created=!1};
g.n.nD=function(){return!1};
g.n.NI=function(){return!1};
g.n.BD=function(){return!1};g.U(W5,g.k);g.n=W5.prototype;g.n.o7=function(){this.notification&&(this.N.stop(),this.a4(this.Z),this.Z=null,this.notification.close(),this.notification=null)};
g.n.d8=function(Z){this.suggestion=Z;g.b2(this,Z,"hqdefault.jpg")};
g.n.l2=function(){this.o0(this.api.NI());this.api.logVisibility(this.element,this.api.NI());this.api.logVisibility(this.KS("ytp-upnext-autoplay-icon"),this.api.NI());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.NI())};
g.n.i_m=function(){window.focus();this.o7()};
g.n.kh=function(Z){var I=this;this.FI()||(g.u8("a11y-announce","Up Next "+this.suggestion.title),this.D=(0,g.o8)(),this.L=new g.uX(function(){yNt(I,Z)},25),yNt(this,Z),JNp(this.api,ntW(this,Z)));
g.KF(this.element,"ytp-upnext-autoplay-paused")};
g.n.hide=function(){g.k.prototype.hide.call(this)};
g.n.FI=function(){return!!this.L};
g.n.EL=function(){this.nf();this.D=(0,g.o8)();yNt(this);g.xw(this.element,"ytp-upnext-autoplay-paused")};
g.n.nf=function(){this.FI()&&(this.L.dispose(),this.L=null)};
g.n.select=function(Z){Z=Z===void 0?!1:Z;if(this.api.C().Y("autonav_notifications")&&Z&&window.Notification&&typeof document.hasFocus==="function"){var I=Notification.permission;I==="default"?Notification.requestPermission():I!=="granted"||document.hasFocus()||(this.o7(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.uT()}),this.Z=this.W(this.notification,"click",this.i_m),this.N.start())}this.nf();this.api.nextVideo(!1,Z)};
g.n.TI=function(Z){!g.H7(this.cancelButton.element,Z.target)&&g.D_(Z,this.api)&&(this.api.NI()&&this.api.logClick(this.KS("ytp-upnext-autoplay-icon")),this.select())};
g.n.Ox=function(){this.api.NI()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.Ja(this.api,!0)};
g.n.gun=function(Z){this.api.getPresentingPlayerType();this.show();this.kh(Z)};
g.n.MJs=function(){this.api.getPresentingPlayerType();this.nf();this.hide()};
g.n.g4=function(){this.nf();this.o7();g.k.prototype.g4.call(this)};g.U(VR,ey);g.n=VR.prototype;g.n.create=function(){ey.prototype.create.call(this);this.N.W(this.player,"appresize",this.Rh);this.N.W(this.player,"onVideoAreaChange",this.Rh);this.N.W(this.player,"videodatachange",this.onVideoDataChange);this.N.W(this.player,"autonavchange",this.sQ);this.N.W(this.player,"onAutonavCancelled",this.VU);this.onVideoDataChange()};
g.n.show=function(){ey.prototype.show.call(this);(this.j||this.Z&&this.Z!==this.videoData.clientPlaybackNonce)&&g.Ja(this.player,!1);g.Bo(this.player)&&this.nD()&&!this.Z?(OP(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||Fmg(this.player.f6())&&this.player.Y("web_player_pip_logging_fix")?this.L.select(!0):this.L.kh():this.videoData.autonavState===3&&this.L.EL()):(g.Ja(this.player,!0),OP(this));this.Rh()};
g.n.hide=function(){ey.prototype.hide.call(this);this.L.EL();OP(this)};
g.n.Rh=function(){var Z=this.player.aF(!0,this.player.isFullscreen());OP(this);as(this.D);g.zL(this.element,"ytp-autonav-cancelled-small-mode",this.vE(Z));g.zL(this.element,"ytp-autonav-cancelled-tiny-mode",this.zd(Z));g.zL(this.element,"ytp-autonav-cancelled-mini-mode",Z.width<=400||Z.height<=360);this.overlay&&g.K2(this.overlay.element,{width:Z.width+"px"});if(!this.B)for(Z=0;Z<this.videos.length;Z++)g.zL(this.videos[Z].element,"ytp-suggestion-card-with-margin",Z%2===1)};
g.n.onVideoDataChange=function(){var Z=this.player.getVideoData();if(this.videoData!==Z&&Z){this.videoData=Z;Z=this.videoData.suggestions;var I=g.wi(this.videoData);I&&(this.L.d8(I),this.L!==this.D&&this.D.d8(I));if(Z&&Z.length)for(I=0;I<Gst.length;++I){var d=Gst[I];if(Z&&Z[d]){this.videos[I]=new QR(this.player);var Y=this.videos[I];d=Z[d];Y.suggestion!==d&&(Y.suggestion=d,g.b2(Y,d));g.z(this,this.videos[I]);this.videos[I].i5(this.V.element)}}this.Rh()}};
g.n.sQ=function(Z){Z===1?(this.j=!1,this.Z=this.videoData.clientPlaybackNonce,this.L.nf(),this.LM&&this.Rh()):(this.j=!0,this.NI()&&(Z===2?this.L.kh():Z===3&&this.L.EL()))};
g.n.VU=function(Z){Z?this.sQ(1):(this.Z=null,this.j=!1)};
g.n.nD=function(){return this.videoData.autonavState!==1};
g.n.vE=function(Z){return(Z.width<910||Z.height<459)&&!this.zd(Z)&&!(Z.width<=400||Z.height<=360)};
g.n.zd=function(Z){return Z.width<800&&!(Z.width<=400||Z.height<=360)};
g.n.NI=function(){return this.LM&&g.Bo(this.player)&&this.nD()&&!this.Z};
var Gst=[1,3,2,4];g.U(LmM,ey);g.n=LmM.prototype;g.n.create=function(){ey.prototype.create.call(this);var Z=this.player.getVideoData();Z&&(this.videoData=Z);this.wx();this.D.W(this.player,"appresize",this.wx);this.D.W(this.player,"onVideoAreaChange",this.wx);this.D.W(this.player,"videodatachange",this.onVideoDataChange);this.D.W(this.player,"autonavchange",this.Uw);this.D.W(this.player,"onAutonavCancelled",this.wr);Z=this.videoData.autonavState;Z!==this.V&&this.Uw(Z);this.D.W(this.element,"transitionend",this.WI)};
g.n.destroy=function(){g.aL(this.D);g.t$(this.stills);this.stills=[];ey.prototype.destroy.call(this);g.KF(this.element,"ytp-show-tiles");this.B.stop();this.V=this.videoData.autonavState};
g.n.nD=function(){return this.videoData.autonavState!==1};
g.n.show=function(){var Z=this.LM;ey.prototype.show.call(this);g.KF(this.element,"ytp-show-tiles");this.player.C().D?g.oj(this.B):this.B.start();(this.N||this.Z&&this.Z!==this.videoData.clientPlaybackNonce)&&g.Ja(this.player,!1);sP(this)?(FQ(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||Fmg(this.player.f6())&&this.player.Y("web_player_pip_logging_fix")?this.L.select(!0):this.L.kh():this.videoData.autonavState===3&&this.L.EL()):(g.Ja(this.player,!0),FQ(this));Z!==this.LM&&
this.player.logVisibility(this.element,!0)};
g.n.hide=function(){var Z=this.LM;ey.prototype.hide.call(this);this.L.EL();FQ(this);Z!==this.LM&&this.player.logVisibility(this.element,!1)};
g.n.WI=function(Z){Z.target===this.element&&this.wx()};
g.n.wx=function(){var Z,I,d,Y;var T=((Z=this.videoData)==null?0:(I=Z.suggestions)==null?0:I.length)?(d=this.videoData)==null?void 0:d.suggestions:[(Y=this.videoData)==null?void 0:g.wi(Y)];if(T.length){I=this.S.aF(!0,this.S.isFullscreen());Z=Math.floor((I.width-64+16)/(g.O4(I.width*.27,250,450)+16));I=Math.min(3,Math.floor((I.height-64)/((I.width-64-(Z-1)*16)/Z*.5625+70)));g.IN(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.xw(this.element,"ytp-modern-endscreen-limit-rows-"+I);g.zL(this.element,"ytp-modern-endscreen-single-item",Z===1);g.zL(this.element,"ytp-modern-endscreen-row-0",I===0);Z=this.table.element;Z.ariaLive="polite";this.L.d8(g.wi(this.videoData));this.L instanceof B5&&as(this.L);g.zL(this.element,"ytp-endscreen-takeover",sP(this));FQ(this);I=0;Z.ariaBusy="true";d=T.length;for(Y=0;Y<d;Y++){var f=Y%d,P=this.stills[Y];P||(P=new g.xI(this.player),this.stills[Y]=P,Z.appendChild(P.element));g.g_n(P,T[f]);I++}this.stills.length=
I}};
g.n.onVideoDataChange=function(){var Z=this.player.getVideoData(1);this.videoData!==Z&&(Z!=null&&g.wi(Z)?(this.videoData=Z,this.wx()):this.player.D1("missg",{vid:(Z==null?void 0:Z.videoId)||"",cpn:(Z==null?void 0:Z.clientPlaybackNonce)||""}))};
g.n.BD=function(){return this.L.FI()};
g.n.Uw=function(Z){Z===1?(this.N=!1,this.Z=this.videoData.clientPlaybackNonce,this.L.nf(),this.LM&&this.wx()):(this.N=!0,this.LM&&sP(this)&&(Z===2?this.L.kh():Z===3&&this.L.EL()))};
g.n.wr=function(Z){if(Z){for(Z=0;Z<this.stills.length;Z++)this.S.logVisibility(this.stills[Z].element,!0);this.Uw(1)}else this.Z=null,this.N=!1;this.wx()};
g.n.NI=function(){return this.LM&&sP(this)};g.U(Dip,ey);Dip.prototype.qs=function(){var Z=this.player.getVideoData();this.L.update({profilePicture:Z.profilePicture,author:Z.author});this.subscribeButton.channelId=Z.vl;var I=this.subscribeButton;Z.subscribed?I.L():I.D()};g.U(hP,g.k);hP.prototype.select=function(){this.api.LW(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.CC||void 0)&&this.api.logClick(this.element)};
hP.prototype.onClick=function(Z){if(g.Dh(this.api.C())&&this.api.Y("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var I=this.suggestion.EM(),d={};g.n6(this.api,d);I=g.gq(I,d);g.$n(I,this.api,Z)}else g.D_(Z,this.api,this.D,this.suggestion.sessionData||void 0)&&this.select()};
hP.prototype.onKeyPress=function(Z){switch(Z.keyCode){case 13:case 32:Z.defaultPrevented||(this.select(),Z.preventDefault())}};
hP.prototype.onVideoDataChange=function(){var Z=this.api.getVideoData(),I=this.api.C();this.D=Z.IN?!1:I.N};g.U(Ns,ey);g.n=Ns.prototype;g.n.create=function(){ey.prototype.create.call(this);var Z=this.player.getVideoData();Z&&(this.videoData=Z);this.jG();this.D.W(this.player,"appresize",this.jG);this.D.W(this.player,"onVideoAreaChange",this.jG);this.D.W(this.player,"videodatachange",this.onVideoDataChange);this.D.W(this.player,"autonavchange",this.tR);this.D.W(this.player,"onAutonavCancelled",this.q4);Z=this.videoData.autonavState;Z!==this.X&&this.tR(Z);this.D.W(this.element,"transitionend",this.Xu)};
g.n.destroy=function(){g.aL(this.D);g.t$(this.stills);this.stills=[];ey.prototype.destroy.call(this);g.KF(this.element,"ytp-show-tiles");this.j.stop();this.X=this.videoData.autonavState};
g.n.nD=function(){return this.videoData.autonavState!==1};
g.n.show=function(){var Z=this.LM;ey.prototype.show.call(this);g.KF(this.element,"ytp-show-tiles");this.player.C().D?g.oj(this.j):this.j.start();(this.B||this.N&&this.N!==this.videoData.clientPlaybackNonce)&&g.Ja(this.player,!1);P5(this)?(nT(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||Fmg(this.player.f6())&&this.player.Y("web_player_pip_logging_fix")?this.L.select(!0):this.L.kh():this.videoData.autonavState===3&&this.L.EL()):(g.Ja(this.player,!0),nT(this));Z!==this.LM&&
this.player.logVisibility(this.element,!0)};
g.n.hide=function(){var Z=this.LM;ey.prototype.hide.call(this);this.L.EL();nT(this);Z!==this.LM&&this.player.logVisibility(this.element,!1)};
g.n.Xu=function(Z){Z.target===this.element&&this.jG()};
g.n.jG=function(){var Z,I,d,Y;var T=((Z=this.videoData)==null?0:(I=Z.suggestions)==null?0:I.length)?(d=this.videoData)==null?void 0:d.suggestions:[(Y=this.videoData)==null?void 0:g.wi(Y)];if(T.length){g.xw(this.element,"ytp-endscreen-paginate");var f=this.S.aF(!0,this.S.isFullscreen());if(Z=g.k6(this.S))Z=Z.m2()?48:32,f.width-=Z*2;var P=f.width/f.height;Y=96/54;I=Z=2;var O=Math.max(f.width/96,2),a=Math.max(f.height/54,2);d=T.length;var W=d*4;for(W-=4;W>0&&(Z<O||I<a);){var e=Z/2,B=I/2,w=Z<=O-2&&W>=
B*4,V=I<=a-2&&W>=e*4;if((e+1)/B*Y/P>P/(e/(B+1)*Y)&&V)W-=e*4,I+=2;else if(w)W-=B*4,Z+=2;else if(V)W-=e*4,I+=2;else break}Y=!1;W>=12&&d*4-W<=6&&(I>=4||Z>=4)&&(Y=!0);W=Z*96;O=I*54;P=W/O<P?f.height/O:f.width/W;P=Math.min(P,2);W=Math.floor(Math.min(f.width,W*P));O=Math.floor(Math.min(f.height,O*P));f=this.table.element;f.ariaLive="polite";g.A9(f,W,O);g.K2(f,{marginLeft:W/-2+"px",marginTop:O/-2+"px"});this.L.d8(g.wi(this.videoData));this.L instanceof B5&&as(this.L);g.zL(this.element,"ytp-endscreen-takeover",
P5(this));nT(this);W+=4;O+=4;P=0;f.ariaBusy="true";for(a=0;a<Z;a++)for(e=0;e<I;e++)if(B=P,V=0,Y&&a>=Z-2&&e>=I-2?V=1:e%2===0&&a%2===0&&(e<2&&a<2?e===0&&a===0&&(V=2):V=2),B=g.$aD(B+this.Z,d),V!==0){w=this.stills[P];w||(w=new hP(this.player),this.stills[P]=w,f.appendChild(w.element));var N=Math.floor(O*e/I),q=Math.floor(W*a/Z),A=Math.floor(O*(e+V)/I)-N-4,F=Math.floor(W*(a+V)/Z)-q-4;g.HQ(w.element,q,N);g.A9(w.element,F,A);g.K2(w.element,"transitionDelay",(e+a)/20+"s");g.zL(w.element,"ytp-videowall-still-mini",
V===1);g.zL(w.element,"ytp-videowall-still-large",V>2);V=Math.max(F,A);g.zL(w.element,"ytp-videowall-still-round-large",V>=256);g.zL(w.element,"ytp-videowall-still-round-medium",V>96&&V<256);g.zL(w.element,"ytp-videowall-still-round-small",V<=96);B=T[B];w.suggestion!==B&&(w.suggestion=B,V=w.api.C(),N=g.MV(w.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.b2(w,B,N),g.Dh(V)&&!w.api.Y("web_player_log_click_before_generating_ve_conversion_params")&&(V=B.EM(),N={},g.WR(w.api,"addEmbedsConversionTrackingParams",
[N]),V=g.gq(V,N),w.updateValue("url",V)),(B=(B=B.sessionData)&&B.itct)&&w.api.setTrackingParams(w.element,B));P++}f.ariaBusy="false";g.zL(this.element,"ytp-endscreen-paginate",P<d);for(T=this.stills.length-1;T>=P;T--)Z=this.stills[T],g.r2(Z.element),g.Th(Z);this.stills.length=P}};
g.n.onVideoDataChange=function(){var Z=this.player.getVideoData(1);this.videoData!==Z&&(Z!=null&&g.wi(Z)?(this.Z=0,this.videoData=Z,this.jG()):this.player.D1("missg",{vid:(Z==null?void 0:Z.videoId)||"",cpn:(Z==null?void 0:Z.clientPlaybackNonce)||""}))};
g.n.Fu=function(){this.Z+=this.stills.length;this.jG()};
g.n.oe=function(){this.Z-=this.stills.length;this.jG()};
g.n.BD=function(){return this.L.FI()};
g.n.tR=function(Z){Z===1?(this.B=!1,this.N=this.videoData.clientPlaybackNonce,this.L.nf(),this.LM&&this.jG()):(this.B=!0,this.LM&&P5(this)&&(Z===2?this.L.kh():Z===3&&this.L.EL()))};
g.n.q4=function(Z){if(Z){for(Z=0;Z<this.stills.length;Z++)this.S.logVisibility(this.stills[Z].element,!0);this.tR(1)}else this.N=null,this.B=!1;this.jG()};
g.n.NI=function(){return this.LM&&P5(this)};g.U(utW,g.k);g.n=utW.prototype;g.n.Rk=function(){switch(this.buttonType){case 1:var Z="Watch again on YouTube";var I=156915;break;case 2:Z="Continue watching on YouTube";I=156942;break;default:Z="Continue watching on YouTube",I=156942}this.update({content:Z});this.S.hasVe(this.element)&&this.S.destroyVe(this.element);this.S.createClientVe(this.element,this,I)};
g.n.onClick=function(Z){this.S.Y("web_player_log_click_before_generating_ve_conversion_params")&&this.S.logClick(this.element);g.$n(this.getVideoUrl(),this.S,Z);this.S.Y("web_player_log_click_before_generating_ve_conversion_params")||this.S.logClick(this.element)};
g.n.getVideoUrl=function(){var Z=!0;switch(this.buttonType){case 1:Z=!0;break;case 2:Z=!1}Z=this.S.getVideoUrl(Z,!1,!1,!0);var I=this.S.C();if(g.Dh(I)){var d={};g.Dh(I)&&g.WR(this.S,"addEmbedsConversionTrackingParams",[d]);Z=g.gq(Z,d)}return Z};
g.n.logVisibility=function(){this.S.logVisibility(this.element,this.LM&&this.In)};
g.n.show=function(){g.k.prototype.show.call(this);this.logVisibility()};
g.n.hide=function(){g.k.prototype.hide.call(this);this.logVisibility()};
g.n.UU=function(Z){g.k.prototype.UU.call(this,Z);this.logVisibility()};g.U(ws,ey);ws.prototype.hasSuggestions=function(){var Z;return(Z=this.L)==null?void 0:Z.hasSuggestions()};
ws.prototype.show=function(){if(this.player.getPlayerState()!==3){ey.prototype.show.call(this);var Z=this.D;if(Z){var I=this.L.hasSuggestions();g.zL(this.element,"ytp-shorts-branded-ui",I);I?Z.show():Z.hide()}var d;(d=g.k6(this.player))==null||d.J3(!0);this.player.logVisibility(this.element,!0);this.watchButton.UU(!0)}};
ws.prototype.hide=function(){ey.prototype.hide.call(this);var Z;(Z=g.k6(this.player))==null||Z.J3(!1);this.player.logVisibility(this.element,!1);this.watchButton.UU(!1)};g.U(lbg,g.NI);g.n=lbg.prototype;g.n.PT=function(){var Z=this.player.getVideoData(),I=Z.mutedAutoplay&&(Z.limitedPlaybackDurationInSeconds>0||Z.endSeconds>0||Z.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!I)return!0;var d;var Y=!!((Z==null?0:g.wi(Z))||(Z==null?0:(d=Z.suggestions)==null?0:d.length));Y=!vtv(this.player)||Y;Z=Z.hK;d=this.player.uU();return Y&&!Z&&!d&&!I};
g.n.NI=function(){return this.endScreen.NI()};
g.n.LJr=function(){return this.NI()?this.endScreen.BD():!1};
g.n.g4=function(){this.player.jM("endscreen");g.NI.prototype.g4.call(this)};
g.n.load=function(){var Z=this.player.getVideoData();var I=Z.transitionEndpointAtEndOfStream;if(I&&I.videoId){var d=this.player.nM().nN.get("heartbeat"),Y=g.wi(Z);!Y||I.videoId!==Y.videoId||Z.PP?(this.player.LW(I.videoId,void 0,void 0,!0,!0,I),d&&d.WQ("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),Z=!0):Z=!1}else Z=!1;Z||(g.NI.prototype.load.call(this),this.endScreen.show())};
g.n.unload=function(){g.NI.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.n.onCueRangeEnter=function(Z){this.PT()&&(this.endScreen.created||this.endScreen.create(),Z.getId()==="load"&&this.load())};
g.n.onCueRangeExit=function(Z){Z.getId()==="load"&&this.loaded&&this.unload()};
g.n.onVideoDataChange=function(){Nqv(this);this.Z&&Rui(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.L?this.endScreen=new VR(this.player):this.endScreen=new Ns(this.player),g.z(this,this.endScreen),g.iS(this.player,this.endScreen.element,4))};g.cI("endscreen",lbg);})(_yt_player);
